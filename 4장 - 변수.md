# 4장 - 변수

### 변수

---

변수는 하나의 값을 저장하기위해 확보한 메모리 공간이며, 그 메모리 공간을 식별하기 위해서 붙인 이름이기도 하다.

- 한 번만 사용하는 것이 아니라 재사용하고 싶을 때 사용
- 메모리 주소를 통해 직접적으로 값에 접근할 경우, 오류가 생길 수 있기 때문에 변수를 통해서 안전하게 접근하는 것

`var result = 1 + 2;` 라는 연산이 있을 때, 1과 2가 각각 메모리 공간에 저장되고 연산의 결과인 3이 또 다른 메모리 공간에 저장된다. 이 메모리 공간의 이름을 `result`로 지정하여 접근할 수 있게 되는 것이다.

- `result`: 변수 이름(변수명), `3`: 변수 값
- 변수에 값을 저장하는 행위를 할당이라고 하고, 변수에 저장된 값을 읽는 것을 참조라고 한다.

<br><br>

### 식별자

---

변수 이름을 식별자라고도 한다.

식별자는 값이 저장되어 있는 것이 아니라, 값을 저장하고있는 메모리 주소를 기억하고 있는 것이다.

`식별자 === 메모리 주소에 붙인 이름`

변수, 함수, 클래스 등의 이름들은 모두 식별자라고 볼 수 있다.

→ 메모리 상에 있는 값들을 식별할 수 있다면 모두 식별자라고 할 수 있다.

(모든 식별자는 실행 컨텍스트에 등록된다.)

<br><br>

### 변수 선언

---

변수를 선언한다는 것은 변수를 생성한다는 뜻이다. 값을 저장하기 위해 메모리 공간을 확보하고 이름과 메모리 공간의 주소를 연결하여 값을 저장할 수 있게 준비하는 것이다.

변수를 선언해서 메모리 공간을 확보한 다음 이름을 붙여준다. 하지만 할당을 하지 않는다면?

메모리 공간은 비어 있지 않고 undefined로 암묵적으로 할당이 되어서 초기화가 된다. (자바스크립트의 특징)

- 초기화란 변수가 선언되면 최초로 값을 할당하는 것
- 초기화 단계를 거치지 않는다면 메모리 공간에 전에 쓰던 값(쓰레기 값)이 남아 있을 수도 있기 때문에 암묵적으로 undefined를 할당하여 초기화 하는 것이다.

변수를 사용하려면 선언을 무조건 해주어야한다. 선언을 하지 않고 사용하면 ReferenceError(참조 에러)가 발생한다.

<br><br>

### 변수 호이스팅

---

```jsx
console.log(num); // undefined
var num; // 변수 선언
```

위의 코드를 보면 참조 에러가 나와야 할 것 같은데 undefined가 나와서 당황스러울수도 있다.

자바스크립트 엔진은 코드를 순차적으로 실행하기 전에 소스코드를 실행할 준비를 하는데, 이때 변수 선언문, 함수 선언문과 같은 선언문들을 먼저 실행한다. 그 다음 선언문들을 제외한 코드들을 순차적으로 실행한다.

그래서 위 코드처럼 변수 선언보다 변수를 먼저 사용했는데도 에러가 나지 않고 암묵적으로 초기화된 undefined가 나오는 것이다.

이처럼 변수 선언문이 제일 먼저 쓰여져 작동하는 것처럼 보이는 것을 `변수 호이스팅`이라고 한다.

<br><br>

### 할당

---

자바스크립트 엔진은 변수 선언과 값의 할당의 2단계로 나누어 동작하는데, 2단계를 합쳐서 써도 2단계로 동작한다.

```jsx
var num;
num = 10;
// 위와 아래는 똑같이 2단계로 동작한다.
var num = 10;
```

그런데 변수 선언(런타임 이전)과 값의 할당(런타임)은 다른 시점에 실행된다.

```jsx
console.log(num); // undefined
var num = 10;
console.log(num); // 10
```

var num = 10; 이라는 코드에서 var num(선언), 10(할당)이 2단계로 나누어서 동작하기 때문에, var num이 런타임 이전에 실행되어 암묵적으로 undefined로 초기화 되어 호이스팅이 된 다음, 10으로 값이 할당 되기 때문에 위와 같은 결과가 나오는 것이다.

```jsx
console.log(num); // undefined
num = 10;
var num;
console.log(num); // 10
```

<br><br>

### 재할당

---

```jsx
var num = 10;
num = 20; // 재할당
```

재할당이란 예를 들어, 10이 저장되어있던 메모리 공간을 지우고 그 자리에 20을 넣는 것이 아니라, 다른 새로운 공간을 확보하고 그 공간의 이름을 num이라고 붙인 다음 20을 저장하는 과정이다.

변수를 선언할 때 암묵적으로 undefined로 초기화를 하는 것이니, 10을 저장하는 것도 재할당이라고 할 수 있다.

위의 예에서 undefined와 10은 어떤 변수 이름(식별자)과도 연결되어 있지 않다. 이런 것들을 불필요한 값이라고 하는데, 이 값들은 가비지 콜렉터에 의해 메모리에서 자동으로 해제된다. (메모리에서 언제 해제되는지는 알 수 없다.)

<br><br>

### 식별자 네이밍 규칙

---

- 식별자는 특수문자를 제외한 문자, 숫자, \_, $를 포함할 수 있다.
- 하지만 숫자로 시작하는 것은 허용되지 않는다.
- 예약어는 식별자로 사용할 수 없다.
- 영어를 제외한 문자로 식별자를 쓰는 것은 권장되지 않는다.

<br><br>

### 네이밍 컨벤션

---

```jsx
var firstName; // 카멜 케이스
var first_name; // 스네이크 케이스
var FirstName; // 파스칼 케이스
```

일반적으로 변수나 함수의 이름에는 카멜 케이스를 사용하고, 생성자 함수, 클래스의 이름에는 파스칼 케이스를 사용한다.
